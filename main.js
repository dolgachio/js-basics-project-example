!function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.r(t),new(function(){function e(t){var n,r,i,a=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),i=[{id:0,title:"BEST LAPTOP DEALS",img:"./assets/images/default-slide-img.jpg"},{id:1,title:"BEST HEADPHONES DEALS",img:"./assets/images/default-slide-img.jpg"},{id:2,title:"BEST SPEAKERS DEALS",img:"./assets/images/default-slide-img.jpg"}],(r="slides")in(n=this)?Object.defineProperty(n,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[r]=i,this.el=t,this._render(),this._showSlide(this.slides[0].id),this.el.addEventListener("click",(function(e){return a.onClick(e)}))}var t,n,i;return t=e,(n=[{key:"onClick",value:function(e){var t=e.target,n=t.closest('[role="button"]'),r=!!t.dataset.slideTo;n?this._onControlButtonClick(n):r&&this._onIndicatorClick(t)}},{key:"_onControlButtonClick",value:function(e){var t=this.activeSlide,n=e.dataset.slide;"next"===n&&this._onNextButtonClick(t),"prev"===n&&this._onPreviousButtonClick(t)}},{key:"_onIndicatorClick",value:function(e){var t=parseInt(e.dataset.slideTo,10);this._showSlide(t)}},{key:"_onNextButtonClick",value:function(e){var t;t=this.slides[e+1]?e+1:0,this._showSlide(t)}},{key:"_onPreviousButtonClick",value:function(e){var t;t=this.slides[e-1]?e-1:this.slides.length-1,this._showSlide(t)}},{key:"_render",value:function(){var e=this.slides.map((function(e){return'<li data-target="#mainCarousel" data-slide-to="'.concat(e.id,'" class="carousel-indicator"></li>')})).join(""),t='\n    <ul class="carousel-indicators">\n      '.concat(e,"\n    </ul>\n    ");this.el.innerHTML='\n      <div class="main-carousel carousel slide">\n          '.concat(t,'\n          <div class="carousel-inner js-active-slide">\n              \x3c!-- Вот здесь будет активный слайд, после вызова this._showSlide --\x3e\n          </div>\n          \n          <button class="carousel-control-prev" href="#mainCarousel" role="button" data-slide="prev">\n              <span class="carousel-control-prev-icon" aria-hidden="true"></span>\n              <span class="sr-only">Previous</span>\n          </button>\n          <button class="carousel-control-next" href="#mainCarousel" role="button" data-slide="next">\n              <span class="carousel-control-next-icon" aria-hidden="true"></span>\n              <span class="sr-only">Next</span>\n          </button>\n      </div>\n    ')}},{key:"_showSlide",value:function(e){var t=this.el.querySelector(".js-active-slide"),n=this.slides[e];this.activeSlide=e,t.innerHTML='\n      <div class="carousel-item active">\n          <img src="'.concat(n.img,'" alt="ActiveSlide"/>\n          <div class="container">\n              <div class="carousel-caption">\n                  <h3 class="h1">').concat(n.title,'</h3>\n                  <div>\n                      <a class="btn" href="#" role="button">\n                          View all DEALS\n                          <img src="../../assets/icons/icon-angle-white.svg" class="ml-3" alt=""/>\n                      </a>\n                  </div>\n              </div>\n          </div>\n      </div>\n    ');var r=!0,i=!1,a=void 0;try{for(var o,s=this.el.querySelectorAll(".carousel-indicator")[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){var l=o.value;l.classList.toggle("active",parseInt(l.dataset.slideTo,10)===this.activeSlide)}}catch(e){i=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}}}])&&r(t.prototype,n),i&&r(t,i),e}())(document.querySelector(".carousel")),new(function(){function e(t){var n,r,i,a=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),i='\n  <ul class="list-group sidebar">\n    <li class="list-group-item dropdown">\n      <a class="nav-link dropdown-toggle" id="cameraphotos">Camera &amp; Photo</a>\n      <ul class="dropdown-menu">\n\n       <li data-id="cameraphotos_accessories" class="dropdown-item"><a>Accessories</a></li>\n\n      </ul>\n    </li>\n\n    <li class="list-group-item dropdown">\n      <a class="nav-link dropdown-toggle" id="cinema">Home Cinema, TV &amp; Video</a>\n      <ul class="dropdown-menu">\n\n       <li data-id="cinema_audio" class="dropdown-item"><a>Audio</a></li>\n\n       <li data-id="cinema_video" class="dropdown-item"><a>Video</a></li>\n\n      </ul>\n    </li>\n  </ul>\n  ',(r="template")in(n=this)?Object.defineProperty(n,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[r]=i,this.backdrop=document.querySelector(".backdrop"),t.innerHTML=this.template;var o=t.querySelectorAll(".list-group-item"),s=!0,l=!1,c=void 0;try{for(var u,d=o[Symbol.iterator]();!(s=(u=d.next()).done);s=!0){var v=u.value;v.addEventListener("pointerenter",(function(e){return a.toggleMenuOption(e)})),v.addEventListener("pointerleave",(function(e){return a.toggleMenuOption(e)}))}}catch(e){l=!0,c=e}finally{try{s||null==d.return||d.return()}finally{if(l)throw c}}}var t,n,r;return t=e,(n=[{key:"toggleMenuOption",value:function(e){e.target.querySelector(".dropdown-menu").classList.toggle("show"),this.backdrop&&this.backdrop.classList.toggle("show")}}])&&i(t.prototype,n),r&&i(t,r),e}())(document.querySelector(".main-menu")),new(function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),o(this,"productsUrl","assets/data/products.json"),o(this,"productsStoreKey","cart-products"),this.el=t,this.el.addEventListener("click",(function(e){return n.onClick(e)}))}var t,n,r;return t=e,(n=[{key:"show",value:function(){var e=this;return fetch(this.productsUrl).then((function(e){return e.json()})).then((function(t){return e.render(t)})).catch((function(e){return console.error("show error",e)}))}},{key:"render",value:function(e){var t=this;this.allProducts=e;var n=e.map((function(e){return t._generateProduct(e)})).join("");this.el.innerHTML='\n      <div>\n        <h3 class="section-title">\n          Top Recommendations For You | \n          <a href="checkout.html">Your Cart</a>\n        </h3>\n        <div class="row homepage-cards">\n            '.concat(n,"\n        </div>\n      </div>\n    ")}},{key:"onClick",value:function(e){var t=e.target;if("add-to-cart"===t.dataset.buttonRole&&confirm("Вы уверенны, что хотите добавить товар в корзину?")){var n=t.closest(".products-list-product"),r=parseInt(n.dataset.productId,10),i=localStorage.getItem(this.productsStoreKey),a=JSON.parse(i)||[];if(!a.some((function(e){return e.id===r}))){var o=this.allProducts.find((function(e){return e.id===r}));a.push(o);var s=JSON.stringify(a);localStorage.setItem(this.productsStoreKey,s)}}}},{key:"_generateProduct",value:function(e){var t=this._generateStars(e.rating),n=this._generateReviewsAmount(e.rating),r=this._generatePrice(e);return'\n    <div data-product-id="'.concat(e.id,'" class="products-list-product col-md-6 col-lg-4 mb-4">\n      <div class="card">\n        <div class="card-img-wrap">\n          <img class="card-img-top" src="').concat(e.imageUrl,'" alt="').concat(e.title,'"/>\n        </div>\n        <div class="card-body">\n          <h5 class="card-title">').concat(e.title,'</h5>\n          <div class="rate">\n              ').concat(t,"\n              ").concat(n,"\n          </div>\n          ").concat(r,'\n          \n          <button class="product-add-to-cart" data-button-role="add-to-cart">\n            Add to cart\n          </button>\n        </div>\n        \n      </div>\n    </div>\n')}},{key:"_generateReviewsAmount",value:function(e){return e?'\n        <span class="rate-amount ml-2">'.concat(e.reviewsAmount,"</span>\n      "):""}},{key:"_generateStars",value:function(e){var t;t=e?e.stars:0;for(var n="",r=0;r<5;r++)0===t?n+='<i class="icon-star"></i>':(n+='<i class="icon-star checked"></i>',t--);return n}},{key:"_generatePrice",value:function(e){return e.oldPrice?'\n        <p class="card-text price-text discount">\n            <strong>'.concat(e.price,'</strong>\n            <small class="ml-2">').concat(e.oldPrice,"</small>\n        </p>\n      "):'\n        <p class="card-text price-text">\n            <strong>'.concat(e.price,"</strong>\n        </p>\n      ")}}])&&a(t.prototype,n),r&&a(t,r),e}())(document.querySelector(".product-list")).show()}]);